# Phase ç·¨è™Ÿèªªæ˜ï¼šç‚ºä»€éº¼æ˜¯ 0, 3, 6, 9ï¼Ÿ

## å•é¡Œ

ä½ åœ¨ç¨‹å¼ç¢¼ä¸­çœ‹åˆ°ï¼š
```python
PHASE_A = 0  # EW Straight (æ±è¥¿ç›´è¡Œ)
PHASE_B = 3  # EW Left (æ±è¥¿å·¦è½‰)
PHASE_C = 6  # NS Straight (å—åŒ—ç›´è¡Œ)
PHASE_D = 9  # NS Left (å—åŒ—å·¦è½‰)
```

ç‚ºä»€éº¼ä¸æ˜¯ 0, 1, 2, 3 è€Œæ˜¯ 0, 3, 6, 9ï¼Ÿ

## ç­”æ¡ˆ

é€™æ˜¯å› ç‚º SUMO çš„äº¤é€šè™ŸèªŒç³»çµ±éœ€è¦åœ¨æ¯å€‹**ç¶ ç‡ˆç›¸ä½**ä¹‹é–“æ’å…¥**é»ƒç‡ˆ**å’Œ**å…¨ç´…**ç›¸ä½ã€‚

### å®Œæ•´çš„ 12 ç›¸ä½å¾ªç’°

ä¸€å€‹å®Œæ•´çš„ 4 ç›¸ä½äº¤é€šè™ŸèªŒç³»çµ±å¯¦éš›ä¸Šéœ€è¦ **12 å€‹ phase**ï¼š

| Phase ç·¨è™Ÿ | é¡å‹ | èªªæ˜ | æŒçºŒæ™‚é–“ |
|-----------|------|------|---------|
| **0** | ğŸŸ¢ ç¶ ç‡ˆ | **æ±è¥¿ç›´è¡Œ** (EW Straight) | 20-60 ç§’ï¼ˆå‹•æ…‹èª¿æ•´ï¼‰ |
| **1** | ğŸŸ¡ é»ƒç‡ˆ | æ±è¥¿ç›´è¡Œ â†’ é»ƒç‡ˆ | 3 ç§’ |
| **2** | ğŸ”´ å…¨ç´… | æ¸…ç©ºè·¯å£ | 1 ç§’ |
| **3** | ğŸŸ¢ ç¶ ç‡ˆ | **æ±è¥¿å·¦è½‰** (EW Left) | 10-30 ç§’ï¼ˆå‹•æ…‹èª¿æ•´ï¼‰ |
| **4** | ğŸŸ¡ é»ƒç‡ˆ | æ±è¥¿å·¦è½‰ â†’ é»ƒç‡ˆ | 3 ç§’ |
| **5** | ğŸ”´ å…¨ç´… | æ¸…ç©ºè·¯å£ | 1 ç§’ |
| **6** | ğŸŸ¢ ç¶ ç‡ˆ | **å—åŒ—ç›´è¡Œ** (NS Straight) | 20-60 ç§’ï¼ˆå‹•æ…‹èª¿æ•´ï¼‰ |
| **7** | ğŸŸ¡ é»ƒç‡ˆ | å—åŒ—ç›´è¡Œ â†’ é»ƒç‡ˆ | 3 ç§’ |
| **8** | ğŸ”´ å…¨ç´… | æ¸…ç©ºè·¯å£ | 1 ç§’ |
| **9** | ğŸŸ¢ ç¶ ç‡ˆ | **å—åŒ—å·¦è½‰** (NS Left) | 10-30 ç§’ï¼ˆå‹•æ…‹èª¿æ•´ï¼‰ |
| **10** | ğŸŸ¡ é»ƒç‡ˆ | å—åŒ—å·¦è½‰ â†’ é»ƒç‡ˆ | 3 ç§’ |
| **11** | ğŸ”´ å…¨ç´… | æ¸…ç©ºè·¯å£ | 1 ç§’ |

### ç‚ºä»€éº¼è¦é€™æ¨£è¨­è¨ˆï¼Ÿ

1. **å®‰å…¨æ€§**ï¼šé»ƒç‡ˆè®“è»Šè¼›æœ‰æ™‚é–“æ¸›é€Ÿï¼Œå…¨ç´…è®“è·¯å£æ¸…ç©º
2. **SUMO è¦æ±‚**ï¼šSUMO æœƒè‡ªå‹•å¾ªç’°é€™äº› phaseï¼Œå¾ 0 â†’ 1 â†’ 2 â†’ 3 â†’ ... â†’ 11 â†’ 0
3. **ç¨‹å¼æ§åˆ¶**ï¼šä½ çš„ç¨‹å¼åªéœ€è¦æ§åˆ¶ **ç¶ ç‡ˆ phase**ï¼ˆ0, 3, 6, 9ï¼‰çš„æŒçºŒæ™‚é–“

### ç¨‹å¼é‚è¼¯

```python
# ç•¶åµæ¸¬åˆ°é€²å…¥ç¶ ç‡ˆç›¸ä½æ™‚ï¼Œè¨­å®šè©²ç›¸ä½çš„æŒçºŒæ™‚é–“
if current_phase == PHASE_A:  # Phase 0
    traci.trafficlight.setPhaseDuration(TLS_ID, current_green_A)
elif current_phase == PHASE_B:  # Phase 3
    traci.trafficlight.setPhaseDuration(TLS_ID, current_green_B)
elif current_phase == PHASE_C:  # Phase 6
    traci.trafficlight.setPhaseDuration(TLS_ID, current_green_C)
elif current_phase == PHASE_D:  # Phase 9
    traci.trafficlight.setPhaseDuration(TLS_ID, current_green_D)
```

é»ƒç‡ˆï¼ˆPhase 1, 4, 7, 10ï¼‰å’Œå…¨ç´…ï¼ˆPhase 2, 5, 8, 11ï¼‰çš„æŒçºŒæ™‚é–“æ˜¯å›ºå®šçš„ï¼Œåœ¨ `Traci.net.xml` ä¸­å®šç¾©ã€‚

## ç›®å‰çš„å•é¡Œ

ä½ çš„ `Traci.net.xml` **åªå®šç¾©äº† 4 å€‹ phase**ï¼Œä½†ç¨‹å¼æœŸæœ›æœ‰ **12 å€‹ phase**ã€‚

### ç•¶å‰é…ç½®ï¼ˆéŒ¯èª¤ï¼‰
```xml
<tlLogic id="Node2" type="actuated" programID="0" offset="0">
    <phase duration="42" state="GGGGgrrrrrGGGGgrrrrr"/>  <!-- Phase 0 -->
    <phase duration="3"  state="yyyyyrrrrryyyyyrrrrr"/>  <!-- Phase 1 -->
    <phase duration="42" state="rrrrrGGGGgrrrrrGGGGg"/>  <!-- Phase 2 -->
    <phase duration="3"  state="rrrrryyyyyrrrrryyyyy"/>  <!-- Phase 3 -->
</tlLogic>
```

é€™åªæœ‰ 4 å€‹ phaseï¼Œæ²’æœ‰åˆ†é›¢å·¦è½‰ç›¸ä½ï¼

### éœ€è¦çš„é…ç½®ï¼ˆæ­£ç¢ºï¼‰
éœ€è¦ 12 å€‹ phaseï¼ŒåŒ…å«ï¼š
- Phase 0: EW Straight ç¶ ç‡ˆ
- Phase 1: é»ƒç‡ˆ
- Phase 2: å…¨ç´…
- Phase 3: EW Left ç¶ ç‡ˆ
- Phase 4: é»ƒç‡ˆ
- Phase 5: å…¨ç´…
- Phase 6: NS Straight ç¶ ç‡ˆ
- Phase 7: é»ƒç‡ˆ
- Phase 8: å…¨ç´…
- Phase 9: NS Left ç¶ ç‡ˆ
- Phase 10: é»ƒç‡ˆ
- Phase 11: å…¨ç´…

## è§£æ±ºæ–¹æ¡ˆ

éœ€è¦ä¿®æ”¹ `Traci.net.xml` ä¸­çš„ `<tlLogic>` å®šç¾©ï¼ŒåŠ å…¥å®Œæ•´çš„ 12 å€‹ phaseã€‚

---

**ç¸½çµ**ï¼šPhase 0, 3, 6, 9 æ˜¯å››å€‹**ç¶ ç‡ˆç›¸ä½**ï¼Œä¸­é–“ç©¿æ’é»ƒç‡ˆå’Œå…¨ç´…ç›¸ä½ï¼Œç¸½å…±å½¢æˆ 12 å€‹ phase çš„å®Œæ•´å¾ªç’°ã€‚
